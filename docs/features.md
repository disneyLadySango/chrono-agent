# 機能仕様

## Phase 1: 基盤セットアップと Linear 連携

### 1.1 認証機能

| 機能 | 説明 |
|------|------|
| ログイン | Supabase Auth によるメール/パスワード認証 |
| OAuth | Google, GitHub 等の外部プロバイダー連携（将来） |
| セッション管理 | JWT ベースの認証状態維持 |

### 1.2 タスク管理

| 機能 | 説明 |
|------|------|
| タスク一覧 | ユーザーのタスクを表示 |
| タスク作成 | 手動でタスクを追加（inbox ソース） |
| タスク編集 | タイトル、ステータス、見積もり等の更新 |
| タスク削除 | 不要なタスクの削除 |

### 1.3 Linear 連携

| 機能 | 説明 |
|------|------|
| API 認証 | Linear API キーによる認証 |
| タスク同期 | Linear の Issue を tasks テーブルに同期 |
| 双方向同期 | ステータス変更を Linear に反映（将来） |

---

## Phase 2: ポモドーロ・スケジューリング

### 2.1 ポモドーロタイマー

| 機能 | 説明 |
|------|------|
| タイマー表示 | 25分カウントダウン |
| 開始/停止 | タイマーの制御 |
| 休憩タイマー | 5分/15分の休憩 |
| 通知 | タイマー終了時の通知 |

### 2.2 スケジュール生成

| 機能 | 説明 |
|------|------|
| 空き時間検出 | カレンダーから空き時間を抽出 |
| 自動スケジューリング | タスクをポモドーロ単位で配置 |
| 優先度考慮 | 締め切り・優先度に基づく順序付け |

### 2.3 進捗記録

| 機能 | 説明 |
|------|------|
| ポモドーロログ | 開始/完了時刻の記録 |
| フィードバック | セッション後のコメント入力 |
| 統計表示 | 日/週/月ごとのポモドーロ数 |

---

## Phase 3: Notion 連携と RAG

### 3.1 Notion 連携

| 機能 | 説明 |
|------|------|
| API 認証 | Notion Integration による認証 |
| ページ取得 | 指定したページ/DBの内容を取得 |
| ベクトル化 | コンテンツを Embedding に変換 |

### 3.2 RAG 機能

| 機能 | 説明 |
|------|------|
| セマンティック検索 | 類似コンテンツの検索 |
| コンテキスト生成 | タスクに関連する情報の抽出 |
| タスク分解 | 曖昧なタスクを具体的ステップに |

---

## Phase 4: ネイティブ機能

### 4.1 メニューバー

| 機能 | 説明 |
|------|------|
| 常駐表示 | メニューバーにアイコン表示 |
| クイックアクセス | タイマー操作、今日のスケジュール表示 |
| 通知 | ポモドーロ終了、次のタスク開始 |

### 4.2 ホットキー

| 機能 | 説明 |
|------|------|
| グローバルホットキー | アプリ外からもタイマー操作 |
| カスタマイズ | ユーザー定義のショートカット |

### 4.3 フォーカスモード

| 機能 | 説明 |
|------|------|
| 通知ミュート | ポモドーロ中は通知を抑制 |
| フルスクリーン | 集中用の専用画面 |
